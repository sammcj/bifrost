# Anthropic Integration - Messages API Endpoints

messages:
  post:
    operationId: anthropicCreateMessage
    summary: Create message (Anthropic format)
    description: |
      Creates a message using Anthropic Messages API format.
      Supports streaming via SSE.
    tags:
      - Anthropic Integration
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicMessageRequest'
    responses:
      '200':
        description: Successful response
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicMessageResponse'
          text/event-stream:
            schema:
              $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicStreamEvent'
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/common.yaml#/AnthropicError'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/common.yaml#/AnthropicError'

# Wildcard path for extended messages endpoints (e.g., /v1/messages/batches)
messages-wildcard:
  post:
    operationId: anthropicCreateMessageWildcard
    summary: Create message (Anthropic format) - wildcard
    description: |
      Handles extended messages API paths.
    tags:
      - Anthropic Integration
    parameters:
      - name: path
        in: path
        required: true
        schema:
          type: string
        description: Extended path
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicMessageRequest'
    responses:
      '200':
        description: Successful response
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicMessageResponse'
          text/event-stream:
            schema:
              $ref: '../../../schemas/integrations/anthropic/messages.yaml#/AnthropicStreamEvent'
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/common.yaml#/AnthropicError'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../schemas/integrations/anthropic/common.yaml#/AnthropicError'
