(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{2067:(e,s,t)=>{"use strict";t.d(s,{Dr:()=>a});class a{isValid(){return!this.rules.some(e=>!e.isValid)}getErrors(){return this.rules.filter(e=>!e.isValid).map(e=>e.message)}getFirstError(){let e=this.rules.find(e=>!e.isValid);return null==e?void 0:e.message}static required(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This field is required";return{isValid:null!=e&&""!==e&&0!==e,message:s}}static minValue(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at least ".concat(s);return{isValid:!isNaN(e)&&e>=s,message:t}}static maxValue(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at most ".concat(s);return{isValid:!isNaN(e)&&e<=s,message:t}}static pattern(e,s,t){return{isValid:s.test(e||""),message:t}}static email(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must be a valid email";return this.pattern(e,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,s)}static url(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must be a valid URL";return this.pattern(e,/^https?:\/\/.+/,s)}static minLength(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at least ".concat(s," characters");return{isValid:(e||"").length>=s,message:t}}static maxLength(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at most ".concat(s," characters");return{isValid:(e||"").length<=s,message:t}}static arrayMinLength(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must have at least ".concat(s," items");return{isValid:(null==e?void 0:e.length)>=s,message:t}}static arrayMaxLength(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must have at most ".concat(s," items");return{isValid:(null==e?void 0:e.length)<=s,message:t}}static arrayUnique(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must have unique items";return{isValid:(null==e?void 0:e.length)===new Set(e).size,message:s}}static arraysEqual(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be equal";return{isValid:(null==e?void 0:e.length)===(null==s?void 0:s.length)&&(null==e?void 0:e.every((e,t)=>e===s[t])),message:t}}static custom(e,s){return{isValid:e,message:s}}static all(e){return e.find(e=>!e.isValid)||{isValid:!0,message:""}}constructor(e){this.rules=e.filter(e=>void 0!==e)}}},3580:(e,s,t)=>{"use strict";t.d(s,{d:()=>r});var a=t(6671);function r(){return{toast:e=>{let{title:s,description:t,variant:r}=e,n=t?"".concat(s,": ").concat(t):s;"destructive"===r?a.o.error(n):a.o.success(n)}}}},3621:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var a=t(5155),r=t(6559),n=t(8145),i=t(7168),l=t(8524),d=t(1886),o=t(4432),c=t(7783),u=t(4616),m=t(9803),x=t(3717),h=t(1154),p=t(2525),f=t(2115),v=t(6671),g=t(8482),j=t(9840),y=t(9852),b=t(5784),N=t(4964),_=t(4416),w=t(3999);let k=f.forwardRef((e,s)=>{let{className:t,value:r,onValueChange:i,...l}=e,[d,o]=f.useState(""),c=e=>{i(r.filter(s=>s!==e))};return(0,a.jsxs)("div",{className:(0,w.cn)("border-input flex flex-wrap items-center gap-2 rounded-md border p-2",t),children:[r.map(e=>(0,a.jsxs)(n.E,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,a.jsx)("button",{type:"button",className:"ring-offset-background focus:ring-ring cursor-pointer rounded-full outline-none focus:ring-2 focus:ring-offset-2",onClick:()=>c(e),children:(0,a.jsx)(_.A,{className:"h-3 w-3"})})]},e)),(0,a.jsx)(y.p,{ref:s,type:"text",value:d,onChange:e=>{o(e.target.value)},onKeyDown:e=>{if("Enter"===e.key||","===e.key){e.preventDefault();let s=d.trim();s&&!r.includes(s)&&i([...r,s]),o("")}else"Backspace"===e.key&&""===d&&r.length>0&&i(r.slice(0,-1))},className:"flex-1 border-0 shadow-none focus-visible:ring-0",...l})]})});k.displayName="TagInput";var C=t(7777),A=t(6034),z=t(2067),P=t(9231),V=t.n(P),D=t(1284),q=t(4869),I=t(1539),S=t(1243),E=t(4229),R=t(9026),O=t(9474),M=t(8103);let B={azure:{title:"Azure OpenAI Meta Config",fields:[{name:"endpoint",label:"Endpoint",type:"text",placeholder:"https://your-resource.openai.azure.com or env.AZURE_ENDPOINT"},{name:"api_version",label:"API Version (Optional)",type:"text",placeholder:"YYYY-MM-DD or env.AZURE_VERSION"},{name:"deployments",label:"Deployments (JSON format)",type:"textarea",placeholder:'{ "gpt-4": "my-deployment" }',isJson:!0}]},bedrock:{title:"AWS Bedrock Meta Config",fields:[{name:"region",label:"Region",type:"text",placeholder:"us-east-1 or env.AWS_REGION"}]},vertex:{title:"Google Vertex AI Meta Config",fields:[{name:"project_id",label:"Project ID",type:"text",placeholder:"gcp-project-id or env.GCP_PROJECT"},{name:"region",label:"Region",type:"text",placeholder:"us-central1 or env.GCP_REGION"},{name:"auth_credentials",label:"Auth Credentials (JSON key)",type:"textarea",placeholder:"JSON key or env.GCP_CREDS"}]}},Z=e=>{let{provider:s,metaConfig:t,onMetaConfigChange:r}=e,n=B[s];if(!n)return null;let i=e=>{let s=t[e.name];return"textarea"===e.type?(0,a.jsx)(O.T,{placeholder:e.placeholder,value:e.isJson?"string"==typeof s?s:JSON.stringify(s,null,2):s||"",onChange:s=>{r(e.name,s.target.value)},onBlur:s=>{if(e.isJson)try{let t=JSON.parse(s.target.value);r(e.name,t)}catch(e){}},rows:4,className:"wrap-anywhere max-w-full font-mono text-sm"}):(0,a.jsx)(y.p,{placeholder:e.placeholder,value:s||"",onChange:s=>r(e.name,s.target.value)})};return(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)(g.aR,{className:"mb-2 px-0",children:(0,a.jsxs)(g.ZB,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),n.title,(0,a.jsx)(C.Bc,{children:(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(D.A,{className:"text-muted-foreground ml-1 h-3 w-3"})})}),(0,a.jsx)(C.ZI,{className:"max-w-fit",children:(0,a.jsxs)("p",{children:["Use ",(0,a.jsx)("code",{className:"rounded bg-neutral-100 px-1 py-0.5 text-neutral-800",children:"env.<VAR>"})," to read the value from an environment variable."]})})]})})]})}),(0,a.jsx)(g.Wu,{className:"space-y-4 px-0",children:n.fields.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:e.label}),i(e)]},e.name))})]})},L=(e,s)=>{let t=!e,a=(null==e?void 0:e.name)||s||"",r=!["vertex","ollama","sgl"].includes(a);return{selectedProvider:a,keys:t&&r?[{value:"",models:[],weight:1}]:!t&&r&&(null==e?void 0:e.keys)?e.keys:[],networkConfig:(null==e?void 0:e.network_config)||A.mR,performanceConfig:(null==e?void 0:e.concurrency_and_buffer_size)||A.qV,metaConfig:(null==e?void 0:e.meta_config)||{endpoint:"",deployments:{},api_version:""},proxyConfig:(null==e?void 0:e.proxy_config)||{type:"none",url:"",username:"",password:""}}};function U(e){var s,t;let{provider:r,onSave:n,onCancel:l,existingProviders:m}=e,x=r?void 0:c.xq.find(e=>!m.includes(e))||"",[h]=(0,f.useState)(L(r,x)),[p,g]=(0,f.useState)({...h,isDirty:!1}),[A,P]=(0,f.useState)(!1),{selectedProvider:O,keys:M,networkConfig:B,performanceConfig:U,metaConfig:$,proxyConfig:K,isDirty:T}=p,F="ollama"===O||"sgl"===O,J=!["vertex","ollama","sgl"].includes(O);J&&M.every(e=>""!==e.value.trim()),J&&M.length;let H=U.concurrency>0&&U.buffer_size>0&&U.concurrency<U.buffer_size,G=U.concurrency!==h.performanceConfig.concurrency||U.buffer_size!==h.performanceConfig.buffer_size,{valid:Y,message:W}=(()=>{let e=!0,s="";if("azure"===O){let t=!!$.endpoint&&""!==$.endpoint.trim(),a=!!($.deployments&&"object"==typeof $.deployments&&Object.keys($.deployments).length>0);(e=t&&a)||(s="Endpoint and at least one Deployment are required for Azure")}else if("bedrock"===O)(e=!!$.region&&""!==$.region.trim())||(s="Region is required for AWS Bedrock");else if("vertex"===O){let t=!!$.project_id&&""!==$.project_id.trim(),a=!!$.auth_credentials&&""!==$.auth_credentials.trim(),r=!!$.region&&""!==$.region.trim();(e=t&&a&&r)||(s="Project ID, Auth Credentials, and Region are required for Vertex AI")}return{valid:e,message:s}})();(0,f.useEffect)(()=>{let e={selectedProvider:O,keys:J?M:[],networkConfig:B,performanceConfig:U,metaConfig:$,proxyConfig:K};g(s=>({...s,isDirty:!V()(h,e)}))},[O,M,B,U,$,K,h,J]);let X=(e,s)=>{g(t=>({...t,[e]:s}))},Q=(e,s)=>{X("proxyConfig",{...K,[e]:s})},ee=r?c.xq:c.xq.filter(e=>!m.includes(e)),es=async e=>{if(!et.isValid())return void v.o.error(et.getFirstError());e.preventDefault(),P(!0);let s=null;if(r){let e={keys:J?M.filter(e=>""!==e.value.trim()):[],network_config:B,concurrency_and_buffer_size:U,meta_config:$,proxy_config:K};[,s]=await d.K.updateProvider(r.name,e)}else{let e={provider:O,keys:J?M.filter(e=>""!==e.value.trim()):[],network_config:B,concurrency_and_buffer_size:U,meta_config:$,proxy_config:K};[,s]=await d.K.createProvider(e)}P(!1),s?v.o.error(s):(v.o.success("Provider ".concat(r?"updated":"added"," successfully")),n())},et=new z.Dr([z.Dr.required(O,"Please select a provider"),z.Dr.custom(T,"No changes to save"),...F?[z.Dr.required(B.base_url,"Base URL is required for Ollama provider"),z.Dr.pattern(B.base_url||"",/^https?:\/\/.+/,"Base URL must start with http:// or https://")]:[],...J?[z.Dr.minValue(M.length,1,"At least one API key is required"),z.Dr.custom(M.every(e=>""!==e.value.trim()),"API key value cannot be empty")]:[],z.Dr.minValue(B.default_request_timeout_in_seconds,1,"Timeout must be greater than 0 seconds"),z.Dr.minValue(B.max_retries,0,"Max retries cannot be negative"),z.Dr.minValue(U.concurrency,1,"Concurrency must be greater than 0"),z.Dr.minValue(U.buffer_size,1,"Buffer size must be greater than 0"),z.Dr.custom(U.concurrency<U.buffer_size,"Buffer size must be greater than concurrency"),z.Dr.custom(Y,W),..."azure"===O?[z.Dr.required($.endpoint,"Azure endpoint is required"),z.Dr.minValue(Object.keys($.deployments||{}).length,1,"At least one Azure deployment is required")]:[],..."bedrock"===O?[z.Dr.required($.region,"AWS region is required")]:[],..."vertex"===O?[z.Dr.required($.project_id,"Project ID is required for Vertex AI"),z.Dr.required($.auth_credentials,"Auth credentials are required for Vertex AI"),z.Dr.required($.region,"Region is required for Vertex AI")]:[]]),ea=e=>{X("keys",M.filter((s,t)=>t!==e))},er=(e,s,t)=>{let a=[...M],r={...a[e]};"models"===s&&Array.isArray(t)?r.models=t:"value"===s&&"string"==typeof t?r.value=t:"weight"===s&&"string"==typeof t&&(r.weight=Number.parseFloat(t)||1),a[e]=r,X("keys",a)},en=(0,f.useMemo)(()=>{let e=[];return J&&e.push({id:"api-keys",label:"API Keys"}),("azure"===O||"bedrock"===O||"vertex"===O)&&e.push({id:"meta-config",label:"Meta Config"}),e.push({id:"network",label:"Network"}),e.push({id:"performance",label:"Performance"}),e},[J,O]),[ei,el]=(0,f.useState)((null==(s=en[0])?void 0:s.id)||"api-keys");return(0,f.useEffect)(()=>{if(!en.map(e=>e.id).includes(ei)){var e;el((null==(e=en[0])?void 0:e.id)||"api-keys")}},[en]),(0,a.jsx)(j.lG,{open:!0,onOpenChange:l,children:(0,a.jsxs)(j.Cf,{className:"custom-scrollbar max-h-[90vh] overflow-y-auto p-0 sm:max-w-4xl",showCloseButton:!1,children:[(0,a.jsxs)(j.c7,{className:"z-10 px-6 pt-6",children:[(0,a.jsx)(j.L3,{children:r?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.FO)(r.name,{size:20}),(0,a.jsx)("span",{className:"font-semibold",children:c.oU[r.name]})]}):(0,a.jsx)("div",{className:"flex items-center gap-2",children:"Add Provider"})}),(0,a.jsx)(j.rr,{children:"Configure AI provider settings, API keys, and network options."})]}),(0,a.jsxs)("form",{onSubmit:es,className:"flex flex-row gap-2 px-6 pt-6",children:[!r&&(0,a.jsx)(C.Bc,{children:(0,a.jsx)("div",{className:"flex w-[250px] flex-col gap-1 pb-10",children:c.xq.map(e=>(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{className:(0,w.cn)("flex w-full items-center gap-2 rounded-lg border px-4 py-2 text-sm transition-all duration-200 ease-in-out",O===e?"bg-secondary opacity-100 hover:opacity-100":ee.includes(e)?"hover:bg-secondary cursor-pointer border-transparent opacity-100 hover:border":"cursor-not-allowed border-transparent opacity-30"),onClick:s=>{s.preventDefault(),ee.includes(e)&&X("selectedProvider",e)},asChild:!0,children:(0,a.jsxs)("span",{children:[(0,o.FO)(e,{size:"sm",className:"w-5 h-5"}),(0,a.jsx)("div",{className:"text-sm",children:c.oU[e]})]})}),!ee.includes(e)&&(0,a.jsx)(C.ZI,{children:"Provider is already configured"})]},e))})}),(0,a.jsxs)("div",{className:"flex h-full w-full flex-col justify-between px-2",children:[(0,a.jsxs)(N.tU,{defaultValue:null==(t=en[0])?void 0:t.id,value:ei,onValueChange:el,className:"space-y-6",children:[(0,a.jsx)(N.j7,{style:{gridTemplateColumns:"repeat(".concat(en.length,", 1fr)")},className:"mb-4 grid h-10 w-full",children:en.map(e=>(0,a.jsx)(N.Xi,{value:e.id,className:"flex items-center gap-2 transition-all duration-200 ease-in-out",children:e.label},e.id))}),(0,a.jsx)("div",{className:"relative overflow-hidden",children:(0,a.jsxs)("div",{className:"transition-all duration-300 ease-in-out",style:{maxHeight:"2000px",opacity:1},children:[J&&"api-keys"===ei&&(0,a.jsxs)("div",{className:"animate-in fade-in-0 slide-in-from-right-2 space-y-4 duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"text-base font-medium",children:"API Keys"}),(0,a.jsx)(C.Bc,{children:(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(D.A,{className:"text-muted-foreground ml-1 h-3 w-3"})})}),(0,a.jsx)(C.ZI,{className:"max-w-fit",children:(0,a.jsxs)("p",{children:["Use ",(0,a.jsx)("code",{className:"rounded bg-neutral-100 px-1 py-0.5 text-neutral-800",children:"env.<VAR>"})," to read the value from an environment variable."]})})]})})]}),(0,a.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{X("keys",[...M,{value:"",models:[],weight:1}])},children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Add Key"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:M.map((e,s)=>(0,a.jsxs)("div",{className:"animate-in fade-in-0 slide-in-from-left-2 space-y-4 rounded-md border p-4 duration-300",style:{animationDelay:"".concat(50*s,"ms")},children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"API Key"}),(0,a.jsx)(y.p,{placeholder:"API Key or env.MY_KEY",value:e.value,onChange:e=>er(s,"value",e.target.value),type:"text",className:"flex-1 transition-all duration-200 ease-in-out ".concat(J&&""===e.value.trim()?"border-destructive":"")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Weight"}),(0,a.jsx)(C.Bc,{children:(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(D.A,{className:"text-muted-foreground h-3 w-3"})})}),(0,a.jsx)(C.ZI,{children:(0,a.jsx)("p",{children:"Determines traffic distribution between keys. Higher weights receive more requests."})})]})})]}),(0,a.jsx)(y.p,{placeholder:"1.0",value:e.weight,onChange:e=>er(s,"weight",e.target.value),type:"number",step:"0.1",min:"0",max:"1.0",className:"w-20 transition-all duration-200 ease-in-out"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Models (Optional)"}),(0,a.jsx)(C.Bc,{children:(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(D.A,{className:"text-muted-foreground h-3 w-3"})})}),(0,a.jsx)(C.ZI,{children:(0,a.jsx)("p",{children:"Comma-separated list of models this key applies to. Leave blank for all models."})})]})})]}),(0,a.jsx)(k,{placeholder:"e.g. gpt-4, gpt-3.5-turbo",value:e.models||[],onValueChange:e=>er(s,"models",e)})]}),M.length>1&&(0,a.jsxs)(i.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>ea(s),className:"mt-2 transition-all duration-200 ease-in-out",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),"Remove Key"]})]},s))})]}),"anthropic"!==O&&"openai"!==O&&"cohere"!==O&&"meta-config"===ei&&(0,a.jsx)("div",{className:"animate-in fade-in-0 slide-in-from-right-2 duration-300",children:(0,a.jsx)(Z,{provider:O,metaConfig:$,onMetaConfigChange:(e,s)=>{X("metaConfig",{...$,[e]:s})}})}),"network"===ei&&(0,a.jsxs)("div",{className:"animate-in fade-in-0 slide-in-from-right-2 space-y-6 duration-300",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),(0,a.jsx)("h3",{className:"text-base font-medium",children:"Network Configuration"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["Base URL ",F?"(Required)":"(Optional)"]}),(0,a.jsx)(y.p,{placeholder:"https://api.example.com",value:B.base_url||"",onChange:e=>X("networkConfig",{...B,base_url:e.target.value}),className:"transition-all duration-200 ease-in-out ".concat(F&&!B.base_url?"border-destructive":"")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),(0,a.jsx)(y.p,{type:"number",placeholder:"30",value:B.default_request_timeout_in_seconds,onChange:e=>X("networkConfig",{...B,default_request_timeout_in_seconds:Number.parseInt(e.target.value)||30}),className:"transition-all duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Max Retries"}),(0,a.jsx)(y.p,{type:"number",placeholder:"0",value:B.max_retries,onChange:e=>X("networkConfig",{...B,max_retries:Number.parseInt(e.target.value)||0}),className:"transition-all duration-200 ease-in-out"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),(0,a.jsx)("h3",{className:"text-base font-medium",children:"Proxy Settings"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Proxy Type"}),(0,a.jsxs)(b.l6,{value:K.type,onValueChange:e=>Q("type",e),children:[(0,a.jsx)(b.bq,{className:"w-48 transition-all duration-200 ease-in-out",children:(0,a.jsx)(b.yv,{placeholder:"Select type"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"none",children:"None"}),(0,a.jsx)(b.eb,{value:"http",children:"HTTP"}),(0,a.jsx)(b.eb,{value:"socks5",children:"SOCKS5"}),(0,a.jsx)(b.eb,{value:"environment",children:"Environment"})]})]})]}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:"none"!==K.type&&"environment"!==K.type?"300px":"0px",opacity:+("none"!==K.type&&"environment"!==K.type)},children:(0,a.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Proxy URL"}),(0,a.jsx)(y.p,{placeholder:"http://proxy.example.com",value:K.url||"",onChange:e=>Q("url",e.target.value),className:"transition-all duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Username"}),(0,a.jsx)(y.p,{value:K.username||"",onChange:e=>Q("username",e.target.value),placeholder:"Proxy username",className:"transition-all duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Password"}),(0,a.jsx)(y.p,{type:"password",value:K.password||"",onChange:e=>Q("password",e.target.value),placeholder:"Proxy password",className:"transition-all duration-200 ease-in-out"})]})]})]})})]})]})]}),"performance"===ei&&(0,a.jsxs)("div",{className:"animate-in fade-in-0 slide-in-from-right-2 space-y-4 duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4"}),(0,a.jsx)("h3",{className:"text-base font-medium",children:"Performance Settings"})]}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:G?"200px":"0px",opacity:+!!G},children:(0,a.jsxs)(R.Fc,{className:"mb-4",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),(0,a.jsxs)(R.TN,{children:[(0,a.jsx)("strong",{children:"Heads up:"})," Changing concurrency or buffer size may temporarily affect request latency for this provider while the new settings are being applied."]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Concurrency"}),(0,a.jsx)(y.p,{type:"number",value:U.concurrency,onChange:e=>X("performanceConfig",{...U,concurrency:Number.parseInt(e.target.value)||0}),className:"transition-all duration-200 ease-in-out ".concat(H?"":"border-destructive")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Buffer Size"}),(0,a.jsx)(y.p,{type:"number",value:U.buffer_size,onChange:e=>X("performanceConfig",{...U,buffer_size:Number.parseInt(e.target.value)||0}),className:"transition-all duration-200 ease-in-out ".concat(H?"":"border-destructive")})]})]})]})]})})]}),(0,a.jsx)("div",{className:"bg-background sticky bottom-0 py-3",children:ee.length>0&&(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:l,className:"transition-all duration-200 ease-in-out",children:"Cancel"}),(0,a.jsx)(C.Bc,{children:(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsxs)(i.$,{type:"submit",disabled:!et.isValid()||A,isLoading:A,className:"transition-all duration-200 ease-in-out",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),A?"Saving...":"Save Provider"]})})}),(!et.isValid()||A)&&(0,a.jsx)(C.ZI,{children:(0,a.jsx)("p",{children:A?"Saving...":et.getFirstError()||"Please fix validation errors"})})]})})]})})]})]})]})})}function $(e){let{providers:s,onRefresh:t}=e,[j,y]=(0,f.useState)(!1),[b,N]=(0,f.useState)(null),[_,w]=(0,f.useState)(null),k=async e=>{w(e);let[,s]=await d.K.deleteProvider(e);w(null),s?v.o.error(s):(v.o.success("Provider deleted successfully"),t())},C=e=>{N(e),y(!0)};return(0,a.jsxs)(a.Fragment,{children:[j&&(0,a.jsx)(U,{provider:b,onSave:()=>{y(!1),N(null),t()},onCancel:()=>y(!1),existingProviders:s.map(e=>e.name)}),(0,a.jsxs)(g.aR,{className:"mb-4 px-0",children:[(0,a.jsxs)(g.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:"AI Providers"}),(0,a.jsxs)(i.$,{onClick:()=>{N(null),y(!0)},children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Add Provider"]})]}),(0,a.jsx)(g.BT,{children:"Manage AI model providers, their API keys, and configuration settings."})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(l.XI,{children:[(0,a.jsx)(l.A0,{children:(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nd,{children:"Provider"}),(0,a.jsx)(l.nd,{children:"Concurrency"}),(0,a.jsx)(l.nd,{children:"Buffer Size"}),(0,a.jsx)(l.nd,{children:"Max Retries"}),(0,a.jsx)(l.nd,{children:"API Keys"}),(0,a.jsx)(l.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsxs)(l.BF,{children:[0===s.length&&(0,a.jsx)(l.Hj,{children:(0,a.jsx)(l.nA,{colSpan:6,className:"py-6 text-center",children:"No providers found."})}),s.map(e=>{var s,t,d,u;return(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nA,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.FO)(e.name,{size:16}),(0,a.jsx)("p",{className:"font-medium",children:c.oU[e.name]||e.name})]})}),(0,a.jsx)(l.nA,{children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n.E,{variant:"outline",children:(null==(s=e.concurrency_and_buffer_size)?void 0:s.concurrency)||1})})}),(0,a.jsx)(l.nA,{children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n.E,{variant:"outline",children:(null==(t=e.concurrency_and_buffer_size)?void 0:t.buffer_size)||10})})}),(0,a.jsx)(l.nA,{children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n.E,{variant:"outline",children:(null==(d=e.network_config)?void 0:d.max_retries)||0})})}),(0,a.jsx)(l.nA,{children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:"vertex"!==e.name&&"ollama"!==e.name?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"text-muted-foreground h-4 w-4"}),(0,a.jsxs)("span",{className:"text-sm",children:[(null==(u=e.keys)?void 0:u.length)||0," keys"]})]}):(0,a.jsx)("span",{className:"text-sm",children:"N/A"})})}),(0,a.jsx)(l.nA,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>C(e),children:(0,a.jsx)(x.A,{className:"h-4 w-4"})}),(0,a.jsxs)(r.Lt,{children:[(0,a.jsx)(r.tv,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"outline",size:"sm",disabled:_===e.name,children:_===e.name?(0,a.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(p.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(r.EO,{children:[(0,a.jsxs)(r.wd,{children:[(0,a.jsx)(r.r7,{children:"Delete Provider"}),(0,a.jsxs)(r.$v,{children:["Are you sure you want to delete provider ",e.name,"? This action cannot be undone."]})]}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:"Cancel"}),(0,a.jsx)(r.Rx,{onClick:()=>k(e.name),children:"Delete"})]})]})]})]})})]},e.name)})]})]})})]})}var K=t(2384),T=t(3580);function F(){let[e,s]=(0,f.useState)(!0),[t,r]=(0,f.useState)([]),{toast:n}=(0,T.d)();(0,f.useEffect)(()=>{i()},[]);let i=async()=>{let[e,t]=await d.K.getProviders();if(s(!1),t)return void n({title:"Error",description:t,variant:"destructive"});r((null==e?void 0:e.providers)||[])};return(0,a.jsx)("div",{children:e?(0,a.jsx)(K.A,{}):(0,a.jsx)($,{providers:t,onRefresh:i})})}},6034:(e,s,t)=>{"use strict";t.d(s,{Dk:()=>n,mR:()=>a,qV:()=>r});let a={base_url:"",default_request_timeout_in_seconds:30,max_retries:0,retry_backoff_initial:1e3,retry_backoff_max:1e4},r={concurrency:10,buffer_size:100},n={connected:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",disconnected:"bg-gray-100 text-gray-800"}},6559:(e,s,t)=>{"use strict";t.d(s,{$v:()=>p,EO:()=>u,Lt:()=>l,Rx:()=>f,Zr:()=>v,ck:()=>x,r7:()=>h,tv:()=>d,wd:()=>m});var a=t(5155);t(2115);var r=t(7649),n=t(3999),i=t(7168);function l(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"alert-dialog",...s})}function d(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...s})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}function f(e){let{className:s,...t}=e;return(0,a.jsx)(r.rc,{className:(0,n.cn)((0,i.r)({variant:"destructive"}),s),...t})}function v(e){let{className:s,...t}=e;return(0,a.jsx)(r.ZD,{className:(0,n.cn)((0,i.r)({variant:"outline"}),s),...t})}},7777:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>i,ZI:()=>o,k$:()=>d,m_:()=>l});var a=t(5155);t(2115);var r=t(9613),n=t(3999);function i(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function l(e){let{...s}=e;return(0,a.jsx)(i,{children:(0,a.jsx)(r.bL,{"data-slot":"tooltip",...s})})}function d(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"tooltip-trigger",...s})}function o(e){let{className:s,sideOffset:t=0,children:i,...l}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,n.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...l,children:[i,(0,a.jsx)(r.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},9385:(e,s,t)=>{Promise.resolve().then(t.bind(t,3621))},9474:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var a=t(5155);t(2115);var r=t(3999);function n(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}}},e=>{var s=s=>e(e.s=s);e.O(0,[106,189,944,231,412,62,822,613,925,915,830,441,684,358],()=>s(9385)),_N_E=e.O()}]);