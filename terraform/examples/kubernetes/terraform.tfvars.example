# =============================================================================
# Generic Kubernetes Example â€” terraform.tfvars
# WARNING: Do NOT commit this file with real secrets (API keys, passwords).
#          Use environment variables, a secrets manager, or .gitignore this file.
# =============================================================================

image_tag   = "latest"
name_prefix = "bifrost"

# -----------------------------------------------------------------------------
# Kubernetes connection
# -----------------------------------------------------------------------------
# kubeconfig_path    = "~/.kube/config"
# kubeconfig_context = "my-cluster"

# -----------------------------------------------------------------------------
# Config approach 1: File-based
# Point to an existing config.json. Variable overrides below will merge on top.
# -----------------------------------------------------------------------------
# config_json_file = "./config.json"

# -----------------------------------------------------------------------------
# Config approach 2: Variable-based
# Define config sections directly. These override matching keys from the file.
# -----------------------------------------------------------------------------
config_store = {
  enabled = true
  type    = "sqlite"
  config = {
    path = "/app/data/bifrost.db"
  }
}

logs_store = {
  enabled = true
  type    = "sqlite"
  config = {
    path = "/app/data/bifrost-logs.db"
  }
}

providers_config = {
  openai = {
    api_key = "sk-..."
  }
  anthropic = {
    api_key = "sk-ant-..."
  }
}

# -----------------------------------------------------------------------------
# Compute
# -----------------------------------------------------------------------------
desired_count        = 1
cpu                  = 512
memory               = 1024
kubernetes_namespace = "bifrost"
volume_size_gb       = 10
storage_class_name   = "standard"

# -----------------------------------------------------------------------------
# Ingress (optional)
# -----------------------------------------------------------------------------
create_load_balancer = false
# ingress_class_name   = "nginx"
# ingress_annotations  = { "cert-manager.io/cluster-issuer" = "letsencrypt-prod" }
# domain_name          = "bifrost.example.com"

# -----------------------------------------------------------------------------
# Autoscaling (optional)
# -----------------------------------------------------------------------------
# NOTE: If you are using OSS version - running multiple nodes has an effect on
# functionality of the system. Please read
# https://docs.getbifrost.ai/deployment-guides/how-to/multinode
enable_autoscaling = false
# min_capacity       = 1
# max_capacity       = 5
